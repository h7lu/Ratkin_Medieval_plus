<?xml version="1.0" encoding="utf-8"?>
<Patch>
  <!-- Append our ritual-starter comp to the existing Lectern ThingDef without replacing it. -->
  <Operation Class="PatchOperationAdd">
    <xpath>/Defs/ThingDef[defName='Lectern']/comps</xpath>
    <value>
      <li Class="RkM.CompProperties_RitualStarter">
        <ritualDefName>RKM_TeachingRitual_Base</ritualDefName>
      </li>
    </value>
  </Operation>
  <Operation Class="PatchOperationSequence">
		<success>Always</success>
		<operations>
		<li Class="PatchOperationTest">
			<xpath>/Defs/ThingDef[@Name="BasePawn"]/comps</xpath>
			<success>Invert</success>
		</li>
		<li Class="PatchOperationAdd">
			<xpath>/Defs/ThingDef[@Name="BasePawn"]</xpath>
			<value>
			<comps />
			</value>
		</li>
		</operations>
	</Operation>
	<Operation Class="PatchOperationAdd">
		<xpath>/Defs/ThingDef[@Name="BasePawn"]/comps</xpath>
		<value>
			<li Class="RkM.CompProperties_GetEquipmentGizmo"/>
		</value>
	</Operation>
</Patch>
